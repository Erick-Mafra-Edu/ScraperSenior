# 

URL: https://documentacao.senior.com.br/tecnologia/5.10.4/#geradores/importacao-exportacao/informacoes-complementares/ftransacao_imp.htm%3FTocPath%3DTecnologia%7CFerramentas%2520de%2520Apoio%7CGeradores%2520de%2520Informa%25C3%25A7%25C3%25A3o%7CGerador%2520Importa%25C3%25A7%25C3%25A3o%252FExporta%25C3%25A7%25C3%25A3o%7CInforma%25C3%25A7%25C3%25B5es%2520Complementares%7C_____10

---


        
        
            
                
                COMECE A USAR SENIOR
                
                
                    
                         PORTUGUÊS 
                     English Español
                    
                
            
        
        
        
        
            X
                
                
                /* <![CDATA[ */
                    hbspt.forms.create({
                        region: "na1",
                        portalId: "20786608",
                        formId: "bea53a5f-6a7c-4c2b-9cab-1832bfdb85e1"
                    });
                /* ]]> */
            
        
        PORTAL DE DOCUMENTAÇÃOTecnologia - versão 6.10.4 / 5.10.4
            
                
                
                
            
            x
            
        
        
            Tecnologia > Ferramentas de Apoio > Geradores de Informação > Gerador Importação/Exportação > Informações Complementares > Uso de Transações na Importação
            
            
                
                    
                    
                    
                    
                    
                    
                
            
            
                Funcionamento da Transação Durante a Importação
                Durante a importação de um arquivo, existe uma transação aberta. Nesta transação serão gravados todos os registros importados do arquivo texto.
                Esta transação é aberta para cada bloco de n registros. Para cada registro sendo importado, uma nova transação aninhada (transação dentro de transação) é aberta. Quando o registro é importado com sucesso, a transação aninhada é fechada com um comando commit. Quando o registro é importado com erro, a transação é fechada com rollback, porém a transação do bloco de n registros continua aberta.
                Cada registro importado com sucesso conta para o bloco de transações de n registros. Quando este número alcançar um determinado limite, o bloco de transações é fechado com commit. Neste momento todos os n registros são efetivamente gravados na base de dados.
                O bloco de transações de n registros somente é fechado com rollback caso aconteça algum erro crítico que impeça o processo de continuar. Um erro crítico pode ser a falta de memória, falta de recursos, erro na abertura ou no fechamento de transação.
                Para um melhor entendimento, considere o esquema abaixo. O bloco de transação de n registros é fechado a cada 100 registros importados com sucesso.
                
                    
                
                Cada registro possui sua transação aninhada. Os registros representados em verde têm a sua transação fechada com o comando commit e os vermelhos são fechados com rollback.
                Note que o bloco de n registros foi fechado apenas depois do 102º registro importado. Isto acontece porque dois registros apresentaram erros durante a importação e não contaram para o bloco de transação principal. Após o fechamento do bloco principal, um novo bloco de transação é aberto para importar o restante dos registros. E este por sua vez é fechado após o número de registros importados atingir o limite e assim por diante.
                Quantidade de registros por bloco de transação
        
                A tela Importação e Exportação de Dados (Definição), possui um campo na guia Definições que permite a configuração da quantidade de registros que estarão no bloco de n registros, chamado Fechar transação a cada ___ registro(s) importado(s) com sucesso. O valor padrão desta configuração é 100. Este número era usado em versões anteriores.
                Este campo aceita qualquer valor maior ou igual a 1. Números negativos não são aceitos na digitação (aceita somente máscara numérica). 
                Nota
                    Esta configuração fica disponível apenas para a importação automática, ou seja, aquela executada diretamente pela rotina de importação. As importações manuais (aquelas controladas pelo sistema) precisam considerar este aspecto, caso necessitem controlar o número de registros por transações.
                
            
        
        
            
                Este artigo ajudou você?
                
                    
                        						Sim
					
                    
                        						Não
					
                
            
            
                Gostaria de deixar uma sugestão para melhorar esta página?
                Lembrando que, para receber um atendimento, entre em contato com o seu canal de Suporte.
                Todos os comentários serão feitos de forma anônima.
                Nome/E-mail: 
                
                     Li e concordo com a Política de Privacidade da Senior, que pode usar as informações aqui fornecidas por mim para entrar em contato comigo via e-mail para ações de natureza informativa. Posso revogar meu consentimento a qualquer momento enviando um e-mail para encarregado@senior.com.br.
                
                
                
                    
                    
                
            
            Agradecemos seu feedback!Vamos avaliar sua sugestão e alterar o conteúdo relacionado caso seja necessário.
        
        
        
        
            
                
                    Base de Conhecimento
                    
                    Portal de Exigências Legais
                    
                    Contrato de Licenciamento de Software e Prestação de Serviços
                    
                    Documentação em outros idiomas:
                     English
                    
                     Español
                    
                
                
                    Senior Store
                    
                    Universidade Corporativa
                    
                    Fórum de Produtos
                    
                    Trabalhe conosco
                    
                    Blog
                    
                
                
                    
                    
                
            
        
        
            
                
                
                Todos os direitos de cópias reservadas para Senior Sistemas S.A.
                A reprodução não autorizada desta publicação, no todo ou em parte, constitui violação dos direitos autorais (Lei 9.610/98).
            
        
        
        
        
        
        /* <![CDATA[ */try{Typekit.load({ async: true });}catch(e){}/* ]]> */
        Ver site completo
        
    
